<div>
    <team-center-search display_txt="Search here..." (eventname)="on_change($event)"></team-center-search>
    <!-- <button class="btn btn-primary" (click)="callFun()">Download</button> -->


    <mat-toolbar class="rounded bg-white mb-3  d-flex justify-content-between fs-6 ">
        <div><mat-icon svgIcon="farrow" class=" flipped-image1" routerLink="../../productdata"></mat-icon>
            <span class="mx-2"> {{data[0]?.product_name}}</span>
        </div>
    </mat-toolbar>

<!-- table -->

    <mat-accordion multi="true" hideToggle>
        <mat-expansion-panel (opened)="f_panelOpenState = true" (closed)="f_panelOpenState = false" 
            class="mt-4">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Firmware
                </mat-panel-title>
                <mat-panel-description class="text-end">
                    <mat-icon svgIcon="farrow" *ngIf="!f_panelOpenState"></mat-icon>
                    <span *ngIf="f_panelOpenState ">
                        <button class="btn btn-primary mx-5 px-2 py-1">Upload</button>
                    </span>
                    <mat-icon svgIcon="farrow" *ngIf="f_panelOpenState" class="flipped-image"></mat-icon>
                </mat-panel-description>

            </mat-expansion-panel-header>

            <table mat-table [dataSource]="firmwaredata" class="mat-elevation-z8">

                <ng-container matColumnDef="doc_type">
                    <th mat-header-cell *matHeaderCellDef> Document Type </th>
                    <td mat-cell *matCellDef="let element"> {{element.document_type}} </td>
                </ng-container>

                <ng-container matColumnDef="released_date">
                    <th mat-header-cell *matHeaderCellDef> Released Date </th>
                    <td mat-cell *matCellDef="let element"> {{element.released_date | date:'medium'}} </td>
                </ng-container>

                <ng-container matColumnDef="released_by">
                    <th mat-header-cell *matHeaderCellDef> Released By </th>
                    <td mat-cell *matCellDef="let element"> {{element.released_by}} </td>
                </ng-container>

                <ng-container matColumnDef="download">
                    <th mat-header-cell *matHeaderCellDef> Download </th>
                    <td mat-cell *matCellDef="let element"> <button class="btn btn-primary px-2 py-1" (click)="fetch_file(element.document_id)">Download</button> </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>



        </mat-expansion-panel>

        <!-- 2 -->
        <mat-expansion-panel (opened)="d_panelOpenState = true" (closed)="d_panelOpenState = false"
            class="mt-2">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Documents
                </mat-panel-title>
                <mat-panel-description class="text-end">
                    <mat-icon svgIcon="farrow" *ngIf="!d_panelOpenState"></mat-icon>
                    <span *ngIf="d_panelOpenState ">
                        <button class="btn btn-primary mx-5 px-2 py-1" (click)="upload()">Upload</button>
                    </span>
                    <mat-icon svgIcon="farrow" *ngIf="d_panelOpenState" class="flipped-image"></mat-icon>
                </mat-panel-description>

            </mat-expansion-panel-header>

            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">

                <ng-container matColumnDef="doc_type">
                    <th mat-header-cell *matHeaderCellDef> Document Type </th>
                    <td mat-cell *matCellDef="let element"> {{element.document_type}} </td>
                </ng-container>

                <ng-container matColumnDef="released_date">
                    <th mat-header-cell *matHeaderCellDef> Released Date </th>
                    <td mat-cell *matCellDef="let element"> {{element.released_date | date:'medium'}} </td>
                </ng-container>

                <ng-container matColumnDef="released_by">
                    <th mat-header-cell *matHeaderCellDef> Released By </th>
                    <td mat-cell *matCellDef="let element"> {{element.released_by}} </td>
                </ng-container>

                <ng-container matColumnDef="download">
                    <th mat-header-cell *matHeaderCellDef> Download </th>
                    <td mat-cell *matCellDef="let element"> <button class="btn btn-primary px-2 py-1" (click)="fetch_file(element.document_id)">Download</button> </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>



        </mat-expansion-panel>

        <!-- 3 -->
<!-- 
        <mat-expansion-panel (opened)="a_panelOpenState = true" (closed)="a_panelOpenState = false" hideToggle
            class="mt-2">
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Apps
                </mat-panel-title>
                <mat-panel-description class="text-end">
                    <mat-icon svgIcon="farrow" *ngIf="!a_panelOpenState"></mat-icon>
                    <span *ngIf="a_panelOpenState ">
                        <button class="btn btn-primary mx-4 px-2 py-1">Assign&nbsp;App</button>
                    </span>
                    <mat-icon svgIcon="farrow" *ngIf="a_panelOpenState" class="flipped-image"></mat-icon>
                </mat-panel-description>

            </mat-expansion-panel-header>

            <table mat-table [dataSource]="firmwaredata" class="mat-elevation-z8">

                <ng-container matColumnDef="doc_type">
                    <th mat-header-cell *matHeaderCellDef> Document Type </th>
                    <td mat-cell *matCellDef="let element"> {{element.document_type}} </td>
                </ng-container>

                <ng-container matColumnDef="released_date">
                    <th mat-header-cell *matHeaderCellDef> Released Date </th>
                    <td mat-cell *matCellDef="let element"> {{element.released_date | date:'medium'}} </td>
                </ng-container>

                <ng-container matColumnDef="released_by">
                    <th mat-header-cell *matHeaderCellDef> Released By </th>
                    <td mat-cell *matCellDef="let element"> {{element.released_by}} </td>
                </ng-container>

                <ng-container matColumnDef="download">
                    <th mat-header-cell *matHeaderCellDef> Download </th>
                    <td mat-cell *matCellDef="let element"> <button class="btn btn-primary   px-2 py-1">Download</button> </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </mat-expansion-panel> -->

    </mat-accordion>

